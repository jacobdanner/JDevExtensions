<extension id="com.jacobd.j1.groovy.enabler" version="1.0.0" esdk-version="2.0"
           rsbundle-class="com.jacobd.j1.groovy.EnablerRes" xmlns="http://jcp.org/jsr/198/extension-manifest">
  <name>${EXTENSION_NAME}</name>
  <owner>${EXTENSION_OWNER}</owner>
  <trigger-hooks xmlns="http://xmlns.oracle.com/ide/extension">
    <triggers>
      <externaltools xmlns="http://xmlns.oracle.com/ide/extension">
        <macro macro="groovy.home" name="JDev Groovy Home"
               description="The Groovy Home installed by the com.jacob.j1.groovy.installer"
               implClass="com.jacobd.j1.groovy.macro.GroovyHomeMacro"/>
      </externaltools>
      <gallery xmlns="http://xmlns.oracle.com/jdeveloper/1013/extension">
        <folders>
          <name label="Groovy">Groovy</name>
          <unsorted>false</unsorted>
          <category>Groovy</category>
        </folders>
        <item rule="context-has-project">
          <name>com.jacobd.j1.groovy.wizard.GroovyScriptBuilder</name>
          <description>Create a new Groovy Script</description>
          <help>Creates a new Groovy Script</help>
          <icon>${GROOVY_ICN_NODE_16X16}</icon>
          <category>Groovy</category>
          <folder>Groovy</folder>
        </item>

      </gallery>
      <libraries xmlns="http://xmlns.oracle.com/jdeveloper/1013/jdev-libraries">
        <library name="${GROOVY_VERSION_LIBRARY_NAME}" forceExtensionInitialization="false">
          <!--<classpath>${jdev.groovy.home}/lib/</classpath>-->
          <classpath>${jdev.groovy.home}/lib/ant-1.8.4.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/ant-antlr-1.8.4.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/ant-junit-1.8.4.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/ant-launcher-1.8.4.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/antlr-2.7.7.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/asm-4.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/asm-analysis-4.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/asm-commons-4.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/asm-tree-4.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/asm-util-4.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/bsf-2.4.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/commons-cli-1.2.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/commons-logging-1.1.1.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/gpars-1.0.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-ant-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-bsf-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-console-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-docgenerator-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-groovydoc-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-groovysh-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-jmx-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-json-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-jsr223-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-servlet-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-sql-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-swing-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-templates-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-test-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-testng-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/groovy-xml-${jdev.groovy.version}.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/hamcrest-core-1.3.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/ivy-2.2.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/jansi-1.6.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/jcommander-1.27.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/jline-1.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/jsp-api-2.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/jsr166y-1.7.0.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/junit-4.11.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/qdox-1.12.1.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/servlet-api-2.4.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/testng-6.8.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/xmlpull-1.1.3.1.jar</classpath>
          <classpath>${jdev.groovy.home}/lib/xstream-1.4.2.jar</classpath>
          <docpath>${jdev.groovy.home}/doc/html/api</docpath>
          <docpath>${jdev.groovy.home}/doc/html/gapi</docpath>
          <docpath>${jdev.groovy.home}/doc/html/groovy-jdk</docpath>
          <srcpath>${jdev.groovy.home}/src/src/main/</srcpath>
          <!-- TODO: add all subprojects 
          <srcpath>${jdev.groovy.home}/src/src/main/</srcpath>
          <srcpath>${jdev.groovy.home}/src/src/main/</srcpath>
          -->
        </library>
      </libraries>
      <node-recognizers-hook>
       
        <document-infos>
          <document-info>
            <label>${GROOVY_SCRIPT_LABEL}</label>
            <icon>res:${GROOVY_ICN_NODE_16X16}</icon>
            <node-type>com.jacobd.j1.groovy.GroovyNode</node-type>
          </document-info>
        </document-infos>
        <extension-to-content-type>
          <mapping extension=".groovy"/>
        </extension-to-content-type>
        <url-recognizer>
          <file-extension>
            <extension>.groovy</extension>
            <node-type>com.jacobd.j1.groovy.GroovyNode</node-type>
          </file-extension>
        </url-recognizer>
      </node-recognizers-hook>

      <starter-factory-hook xmlns="http://xmlns.oracle.com/ide/extension/runner">
        <starter-factory class="com.jacobd.j1.groovy.runner.GroovyStarterFactory"
                         rule="always-enabled" target-class="com.jacobd.j1.groovy.GroovyNode"/>
      </starter-factory-hook>
      <singleton-provider-hook>
        <singleton base-class="com.jacobd1.j1.groovy.GroovyManager"
                   impl-class="com.jacobd.j1.groovy.GroovyManagerImpl"/>
      </singleton-provider-hook>
    </triggers>
  </trigger-hooks>
  <hooks>
    <feature-hook>
      <description>Adds some basic groovy tooling in addition to the groovy installer extension</description>
      <optional>true</optional>
    </feature-hook>
  </hooks>
</extension>

